
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Railroader - Rails Security Scanner: Railroader 1.8.0 Released</title>
  <meta name="author" content="David A. Wheeler (with previous work by Justin Collins)">
  <meta name="description" content="Railroader is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="railroader,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="https://railroader.org/blog/2012/09/04/brakeman-1-dot-8-0-released/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Railroader - Rails Security Scanner" type="application/atom+xml"/>
  

  

  

  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Railroader - Rails Security Scanner</a></h1>
  
    <h2>Static analysis security scanner for Ruby on Rails</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="https://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:railroader.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/railroader">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/railroader_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
  <li><a href="/railroader_pro">Support</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    <div class="articlelogo">&nbsp;</div>
    
      <h1 class="entry-title">Railroader 1.8.0 Released</h1>
    
    
      <p class="meta">




<time datetime="2012-09-04 11:26:00 -0400" pubdate  updated >Sep 4<span>th</span>, 2012</time>


</p>
    
  </header>


<div class="entry-content"><p><em>Changes since 1.7.1</em>:</p>

<ul>
<li>Support relative paths in reports (fsword)</li>
<li>Allow Railroader to be run without tty (fsword)</li>
<li>Fix exit code with <code>--compare</code> (fsword)</li>
<li>Fix <code>--rake</code> option (Deepak Kumar)</li>
<li>Add high confidence warnings for <code>to_json</code> XSS (Neil Matatall)</li>
<li>Fix <code>redirect_to</code> false negative</li>
<li>Fix duplicate warnings with <code>raw</code> calls</li>
<li>Fix shadowing of rendered partials</li>
<li>Add &#8220;render chain&#8221; to HTML reports</li>
<li>Add check for XSS in <code>content_tag</code></li>
<li>Add full backtrace for errors in debug mode</li>
<li>Treat model attributes in <code>or</code> expressions as immediate values</li>
<li>Switch to method access for Sexp nodes</li>
</ul>


<h3>Relative Paths in Reports</h3>

<p>The <code>--relative-paths</code> option will now cause Railroader to output relative paths for warnings in reports in either JSON or tabs format. This is useful when comparing reports run on different machines or just in different directories.</p>

<h3>Railroader without TTY</h3>

<p>Thanks to <a href="http://fsword.github.com/">fsword</a>, Railroader can now run without a TTY available.</p>

<h3>Exit Code for Compare</h3>

<p>Also thanks to fsword, Railroader will return a proper exit code when run with <code>-z --compare</code>. If any changes are found, the exit code will be nonzero.</p>

<h3>Rake Task Generation Fixed</h3>

<p>The <code>--rake</code> option was broken, but <a href="https://github.com/deepakinseattle">Deepak Kumar</a> noticed and fixed it!</p>

<h3>High Confidence Warnings for JSON</h3>

<p>Older versions of Rails default to not escaping <code>to_json</code> calls, leading to <a href="http://railroaderscanner.org/docs/warning_types/cross_site_scripting_to_json/">cross site scripting problems</a>. Since Rails 2.1.0, Rails has provided an option to escape JSON output by default. Railroader will check this option, and warn on unescaped <code>to_json</code> calls.</p>

<h3>Fix Redirect False Negative</h3>

<p>Railroader was incorrectly checking for <code>:only_path =&gt; true</code> in <em>any</em> argument to <code>redirect_to</code>. However, it is only valid as part of the first argument.</p>

<h3>Fix Duplicate Warnings on Raw Calls</h3>

<p>A logic mistake sometimes caused a high and weak confidence warning to be reported for the same code using <code>raw</code>. This has been fixed.</p>

<h3>Fix Shadowing of Rendered Partials</h3>

<p>Due to the way Railroader was storing rendered partials, a view that was rendered multiple times via different code paths would only store a single instance of the rendered view. This could result in some vulnerabilities not being reported.</p>

<p>To fix this, Railroader now stores the entire &#8220;render chain&#8221; (that is, each location of a <code>render</code>). This ensures a unique key for each rendered template.</p>

<h3>Report Render Chain in HTML</h3>

<p>HTML reports now have a new feature that reports the &#8220;render chain&#8221; for view warnings (if the chain is more than a single call deep).</p>

<p>A warning like this:</p>

<p><img src="/images/unexpanded_call_chain.png" alt="Unexpanded" /></p>

<p>Might expand to show this chain:</p>

<p><img src="/images/expanded_call_chain.png" alt="Expanded" /></p>

<h3>Check for XSS in <code>content_tag</code></h3>

<p><code>content_tag</code> is a view helper for generating HTML tags containing some content. In Rails 2.x, <code>content_tag</code> did not escape this content. In Rails 3.x, this changed so that now it is escaped. While <code>content_tag</code> does have an <code>escape</code> parameter (true by default), this only applies to the tag attribute <em>values</em>.</p>

<p>Railroader now warns on possible cross site scripting via <code>content_tag</code> calls. <a href="/docs/warning_types/content_tag">See here</a> for more details.</p>

<h3>Backtraces in Debug Mode</h3>

<p>By default, Railroader tries its best to recover from errors and produce a report. However, this can sometimes make it difficult to track down the sources of errors. Now, with the <code>-d</code> option, Railroader will report backtraces for errors encountered while running, as well as including backtraces in HTML reports.</p>

<h3>Convenience Methods for Sexp Access</h3>

<p>Previously, all code dealing with <a href="https://en.wikipedia.org/wiki/S-exp">s-expressions</a> in the <code>Sexp</code> class accessed nodes via array access, e.g. <code>exp[1]</code> or <code>exp[2]</code>. This led to hard-to-read code like <code>exp[2][3][1][1..-1]</code>. This release includes convenience methods to replace those types of calls. Available methods are <a href="http://rdoc.info/gems/railroader/Sexp">documented here</a>.</p>

<p>Hopefully this leads to code that is both easier to read and easier to write.</p>

<h3>Reporting Problems</h3>

<p>This release touches a lot of code (76 changed files with 1,515 additions and 598 deletions), so there is ample opportunity for bugs to sneak in. Please report any <a href="https://github.com/presidentbeef/railroader/issues">issues</a>!</p>

<p>Also consider joining the <a href="http://railroaderscanner.org/contact/">mailing list</a> and following <a href="https://twitter.com/railroader">@railroader</a> on Twitter.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">David A. Wheeler (with previous work by Justin Collins)</span></span>

      




<time datetime="2012-09-04 11:26:00 -0400" pubdate  updated >Sep 4<span>th</span>, 2012</time>



      


    </p>
    
      <div class="sharing">
  
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread"><div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'railroader';
  var disqus_identifier = 'https://railroader.org/blog/2012/09/04/brakeman-1-dot-8-0-released/';
  var disqus_url = 'https://railroader.org/blog/2012/09/04/brakeman-1-dot-8-0-released/';
  //var disqus_developer = 1;
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside role=sidebar>
  
    <section>
  <p></p>
  <p>Railroader is an open source vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
  <p><a href="https://railroaderpro.com"><img src="/images/railroaderpro.png"></a></p>
  <p><a href="https://railroaderpro.com">Railroader Pro</a> is the commercial version of Railroader which offers a GUI, test integration, deeper analysis, and more.</p>
</section>
<section>
<script type='text/javascript'>
    $(document).ready(function(){
        $("#github").GitHubBadge({
          login: "presidentbeef",
          kind: "project",
          repo_name: "railroader",
          include_github_logo: false,
          image_path: "",
          commit_count: "1",
          issue_count: "0",
          repo_count: "0"
      });
    });
</script>
<div id="github"></div>
<a href="https://travis-ci.org/#!/presidentbeef/railroader"><img src="https://secure.travis-ci.org/presidentbeef/railroader.png" /></a>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/06/06/brakeman-4-dot-3-1-released/">Railroader 4.3.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/05/10/brakeman-4-dot-3-0-released/">Railroader 4.3.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/03/23/brakeman-4-dot-2-1-released/">Railroader 4.2.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/02/21/brakeman-4-dot-2-0-released/">Railroader 4.2.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/12/18/brakeman-4-dot-1-1-released/">Railroader 4.1.1 Released</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <a class="twitter-timeline" data-dnt=true href="https://twitter.com/railroader" data-widget-id="258654953097273345">Tweets by @railroader</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
