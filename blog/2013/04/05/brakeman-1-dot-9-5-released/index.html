
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Railroader - Rails Security Scanner: Brakeman 1.9.5 Released</title>
  <meta name="author" content="David A. Wheeler (with previous work by Justin Collins)">
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="https://railroader.org/blog/2013/04/05/brakeman-1-dot-9-5-released/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Railroader - Rails Security Scanner" type="application/atom+xml"/>
  

  

  

  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Railroader - Rails Security Scanner</a></h1>
  
    <h2>Static analysis security scanner for Ruby on Rails</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="https://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:railroader.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/brakeman_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
  <li><a href="/brakeman_pro">Support</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    <div class="articlelogo">&nbsp;</div>
    
      <h1 class="entry-title">Brakeman 1.9.5 Released</h1>
    
    
      <p class="meta">




<time datetime="2013-04-05 08:42:00 -0400" pubdate  updated >Apr 5<span>th</span>, 2013</time>


</p>
    
  </header>


<div class="entry-content"><p>As planned, Brakeman 1.9.5 is mostly internal bug fixes and improvements, with the one exception being a new check for symbol creation from user input. Barring any emergencies, the next release will be 2.0.</p>

<p><em>Changes since 1.9.4</em>:</p>

<ul>
<li>Add check for unsafe symbol creation (<a href="https://github.com/HonoreDB">Aaron Weiner</a>)</li>
<li>Do not warn on mass assignment with <code>slice</code>/<code>only</code> (<a href="https://github.com/presidentbeef/brakeman/issues/203">#203</a>)</li>
<li>Do not warn on session secret if in <code>.gitignore</code> (<a href="https://github.com/presidentbeef/brakeman/issues/241">#241</a>)</li>
<li>Fix session secret check for Rails 4</li>
<li>Fix scoping for blocks and block arguments</li>
<li>Fix error when modifying blocks in templates</li>
<li>Fix crash on <code>before_filter</code> outside controller</li>
<li>Fix <code>Sexp</code> hash cache invalidation</li>
<li>Respect <code>quiet</code> option in configuration file (<a href="https://github.com/presidentbeef/brakeman/issues/300">#300</a>)</li>
<li>Convert assignment to simple <code>if</code> expressions to <code>or</code></li>
<li>More fixes for assignments inside branches</li>
<li>Refactoring of <code>CheckLinkTo</code> and <code>Report</code> (<a href="https://github.com/barttenbrinke">Bart ten Brinke</a>)</li>
<li>Pin ruby2ruby dependency to version 2.0.3 (<a href="https://github.com/seattlerb/ruby2ruby/issues/15">see here</a>)</li>
</ul>


<h3>Symbol Creation Check</h3>

<p><a href="https://github.com/HonoreDB">Aaron Weiner</a> added a check for symbol creation from user input, such as <code>params[:x].to_i</code> which can lead to Denial of Service.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/296">changes</a>)</p>

<h3>Mass Assignment with Select Keys</h3>

<p>A common pattern to avoid mass assignment issues is to use <code>slice</code> or <code>only</code> when passing in values to mass assignment methods. Brakeman should no longer warn in these situations.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/303">changes</a>)</p>

<h3>Ignoring Session Secrets</h3>

<p>Brakeman no longer warns if the config file containing the session secret key is included in <code>.gitignore</code>. This only applies if the default file names are used.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/302">changes</a>)</p>

<h3>Warn on Rails 4 Session Secrets</h3>

<p>Support for Rails 4 session secrets has been added, since the configuration for that changed again.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/302">changes</a>)</p>

<h3>Block Scoping</h3>

<p>Correct scope for blocks is tricky, and there are also some differences between Ruby 1.8 and 1.9 for block arguments. For the most part, Brakeman has ignored blocks, but this lead to some compounding issues with assignments in branches.</p>

<p>This release now treats all block arguments as local assignments <em>inside</em> the block and shadows any variables outside the block (this is Ruby 1.9 behavior). This should lead to some performance improvements where block arguments do shadow outer variables.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/305">changes and examples</a>)</p>

<h3>Sexp Hash Cache Invalidation</h3>

<p>Since Brakeman does a ton of hash table lookups with s-expressions as keys, it caches <code>Sexp#hash</code> values. In some situations, these cached values were being invalidated when they did not need to be, and not being invalidated when they should have been.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/294">changes</a>)</p>

<h3>Quiet Option</h3>

<p>Brakeman will now be quiet if the option is set in a configuration file.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/306">changes</a>)</p>

<h3>Assignments of If Expressions</h3>

<p>Simple if expression assigments such as <code>x = thing ? this : that</code> will now be converted to <code>x = this || that</code>. This should simplify some code reported with warnings as well as avoid warning on values in <code>if</code> conditions.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/295">changes and examples</a>)</p>

<h3>Assignments in If Expressions</h3>

<p>Assignments inside <code>if</code> branches cause Brakeman to &#8220;branch&#8221; the values for a variable, since it could be two or more different values. However, this branching should only occur <em>after</em> both branches have been processed. Brakeman 1.9.3 made it so values were not branched inside of a single branch, but there was still an issue where values branched in the <code>then</code> clause would be used in the <code>else</code> clause. This release fixes that issue and simplifies branching overall.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/297">changes and examples</a>)</p>

<h3>Refactoring Internals</h3>

<p><a href="https://github.com/barttenbrinke">Bart ten Brinke</a> has begun some work refactoring some of the many ugly parts of Brakeman. Thanks!</p>

<h3>Report Issues</h3>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider joining the <a href="http://brakemanscanner.org/contact/">mailing list</a> or following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter.</p>

<h3>Roadmap</h3>

<p>Next up should be <a href="https://github.com/presidentbeef/brakeman/wiki/Roadmap">Brakeman 2.0</a> unless there needs to be another emergency release. Most of the changes for 2.0 are relatively minor, but break backwards compatibility in areas that may affect external tools. This includes cleaning up warning messages, removing duplicate information from JSON output, combining some checks, changing some defaults, and so on.</p>

<p>If you have suggestions for other breaking changes, please file an issue ASAP to get it into the next release!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">David A. Wheeler (with previous work by Justin Collins)</span></span>

      




<time datetime="2013-04-05 08:42:00 -0400" pubdate  updated >Apr 5<span>th</span>, 2013</time>



      


    </p>
    
      <div class="sharing">
  
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread"><div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'railroader';
  var disqus_identifier = 'https://railroader.org/blog/2013/04/05/brakeman-1-dot-9-5-released/';
  var disqus_url = 'https://railroader.org/blog/2013/04/05/brakeman-1-dot-9-5-released/';
  //var disqus_developer = 1;
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside role=sidebar>
  
    <section>
  <p></p>
  <p>Brakeman is an open source vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
  <p><a href="https://brakemanpro.com"><img src="/images/brakemanpro.png"></a></p>
  <p><a href="https://brakemanpro.com">Brakeman Pro</a> is the commercial version of Brakeman which offers a GUI, test integration, deeper analysis, and more.</p>
</section>
<section>
<script type='text/javascript'>
    $(document).ready(function(){
        $("#github").GitHubBadge({
          login: "presidentbeef",
          kind: "project",
          repo_name: "brakeman",
          include_github_logo: false,
          image_path: "",
          commit_count: "1",
          issue_count: "0",
          repo_count: "0"
      });
    });
</script>
<div id="github"></div>
<a href="https://travis-ci.org/#!/presidentbeef/brakeman"><img src="https://secure.travis-ci.org/presidentbeef/brakeman.png" /></a>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/06/06/brakeman-4-dot-3-1-released/">Brakeman 4.3.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/05/10/brakeman-4-dot-3-0-released/">Brakeman 4.3.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/03/23/brakeman-4-dot-2-1-released/">Brakeman 4.2.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/02/21/brakeman-4-dot-2-0-released/">Brakeman 4.2.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/12/18/brakeman-4-dot-1-1-released/">Brakeman 4.1.1 Released</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <a class="twitter-timeline" data-dnt=true href="https://twitter.com/brakeman" data-widget-id="258654953097273345">Tweets by @brakeman</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
